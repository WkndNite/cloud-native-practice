-- 创建数据库
CREATE DATABASE IF NOT EXISTS student_course_system CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
USE student_course_system;

-- 学生表
CREATE TABLE student (
    student_id INT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 课程表
CREATE TABLE course (
    course_id INT AUTO_INCREMENT PRIMARY KEY,
    course_name VARCHAR(100) NOT NULL,
    credit DECIMAL(3,1) DEFAULT 3.0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 选课表
CREATE TABLE enrollment (
    enrollment_id INT AUTO_INCREMENT PRIMARY KEY,
    student_id INT,
    course_id INT,
    grade DECIMAL(5,2) DEFAULT NULL,
    enrolled_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (student_id) REFERENCES student(student_id),
    FOREIGN KEY (course_id) REFERENCES course(course_id)
);

-- 插入学生数据
INSERT INTO student (student_id, name) VALUES
(100001, '张无忌'),
(100002, '赵敏'),
(100003, '周芷若'),
(100004, '令狐冲'),
(100005, '任盈盈'),
(100006, '郭靖'),
(100007, '黄蓉'),
(100008, '杨过'),
(100009, '小龙女'),
(100010, '乔峰'),
(100011, '段誉'),
(100012, '王语嫣'),
(100013, '虚竹'),
(100014, '狄云'),
(100015, '袁承志'),
(100016, '梵高'),
(100017, '拉斐尔'),
(100018, '达·芬奇'),
(100019, '牛顿'),
(100020, '爱因斯坦'),
(100021, '莎士比亚'),
(100022, '莫奈'),
(100023, '毕加索'),
(100024, '贝多芬'),
(100025, '莫扎特'),
(100026, '康德'),
(100027, '海德格尔'),
(100028, '伽利略'),
(100029, '洛克'),
(100030, '霍金');

-- 插入课程数据
INSERT INTO course (course_name, credit) VALUES
('程序设计基础', 3.0),
('数据结构', 3.5),
('操作系统', 3.0),
('计算机网络', 3.0),
('数据库系统', 3.0),
('软件工程', 2.5),
('人工智能基础', 2.0),
('计算机组成原理', 3.0),
('算法设计与分析', 3.5),
('机器学习基础', 2.5),
('大数据处理技术', 3.0),
('云计算与虚拟化技术', 2.5);

-- 插入选课数据
-- 为简洁，这里手工生成部分示例，后续你可用程序批量插入更多

INSERT INTO enrollment (student_id, course_id, grade) VALUES
(100001, 1, 92.5),
(100001, 2, 85.0),
(100001, 5, 78.5),
(100002, 3, 88.0),
(100002, 4, 91.5),
(100002, 6, 82.0),
(100003, 2, 79.0),
(100003, 8, 85.5),
(100003, 9, 89.0),
(100004, 1, 80.5),
(100004, 5, 93.0),
(100004, 7, 77.5),
(100005, 3, 95.0),
(100005, 6, 83.5),
(100005, 10, 90.0),
(100006, 1, 87.0),
(100006, 5, 81.5),
(100006, 11, 86.0),
(100007, 2, 91.0),
(100007, 6, 87.5),
(100007, 12, 84.0),
(100008, 4, 90.5),
(100008, 9, 82.0),
(100008, 10, 75.0),
(100009, 3, 96.0),
(100009, 6, 89.5),
(100009, 8, 80.0),
(100010, 1, 88.0),
(100010, 4, 79.5),
(100010, 7, 91.0),
(100011, 2, 86.0),
(100011, 5, 92.0),
(100011, 8, 89.0),
(100012, 3, 84.5),
(100012, 7, 94.0),
(100012, 11, 82.5),
(100013, 1, 83.0),
(100013, 6, 85.0),
(100013, 12, 79.0),
(100014, 2, 87.5),
(100014, 8, 89.5),
(100014, 10, 91.5),
(100015, 4, 77.0),
(100015, 7, 86.0),
(100015, 9, 90.0),
(100016, 1, 93.5),
(100016, 3, 88.0),
(100016, 5, 81.0),
(100017, 2, 84.5),
(100017, 6, 83.0),
(100017, 11, 87.5),
(100018, 3, 79.5),
(100018, 5, 94.0),
(100018, 7, 86.5),
(100019, 4, 89.0),
(100019, 8, 91.0),
(100019, 12, 83.0),
(100020, 1, 78.5),
(100020, 6, 88.0),
(100020, 10, 85.5),
(100021, 2, 92.5),
(100021, 3, 81.0),
(100021, 9, 86.5),
(100022, 1, 90.5),
(100022, 5, 87.0),
(100022, 8, 93.0),
(100023, 3, 84.0),
(100023, 7, 89.5),
(100023, 12, 78.0),
(100024, 2, 95.0),
(100024, 4, 82.5),
(100024, 9, 87.0),
(100025, 1, 91.0),
(100025, 5, 88.5),
(100025, 10, 79.0),
(100026, 3, 89.5),
(100026, 7, 90.0),
(100026, 11, 85.0),
(100027, 4, 86.5),
(100027, 6, 92.0),
(100027, 8, 84.5),
(100028, 1, 88.5),
(100028, 2, 90.0),
(100028, 9, 91.5),
(100029, 3, 85.5),
(100029, 5, 93.5),
(100029, 10, 86.0),
(100030, 4, 87.5),
(100030, 6, 89.0),
(100030, 12, 90.5);
